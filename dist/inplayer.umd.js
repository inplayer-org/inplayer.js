!function(e,t,n,r){(n=e.createElement("script")).async=1,n.src="//"+(location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",(r=e.getElementsByTagName("script")[0]).parentNode.insertBefore(n,r)}(document),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.InPlayer=t()}(this,function(){"use strict";function e(e){return new Promise(function(t,n){function r(i,c){try{var s=e[c?"throw":"next"](i)}catch(e){return void n(e)}s.done?t(s.value):Promise.resolve(s.value).then(r,o)}function o(e){r(e,1)}r()})}var t=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e,t){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,r=window.Cookies=t();r.noConflict=function(){return window.Cookies=n,r}}}(function(){function e(){for(var e=arguments,t=0,n={};t<arguments.length;t++){var r=e[t];for(var o in r)n[o]=r[o]}return n}function t(n){function r(t,o,i){var c,s=this;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{c=JSON.stringify(o),/^[\{\[]/.test(c)&&(o=c)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var d in i)i[d]&&(a+="; "+d,!0!==i[d]&&(a+="="+i[d]));return document.cookie=t+"="+o+a}t||(c={});for(var f=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,l=0;l<f.length;l++){var h=f[l].split("="),y=h.slice(1).join("=");s.json||'"'!==y.charAt(0)||(y=y.slice(1,-1));try{var m=h[0].replace(p,decodeURIComponent);if(y=n.read?n.read(y,m):n(y,m)||y.replace(p,decodeURIComponent),s.json)try{y=JSON.parse(y)}catch(e){}if(t===m){c=y;break}t||(c[m]=y)}catch(e){}}return c}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})}),n=t.get,r=t.set,o=t.remove,i="https://staging-v2.inplayer.com",c="inplayer_token",s={signIn:i+"/accounts/login",signOut:i+"/accounts/logout",signUp:i+"/accounts",requestNewPassword:i+"/accounts/forgot-password",setNewPassword:function(e){return i+"/accounts/forgot-password/"+e},getAccountInfo:i+"/accounts",social:function(e){return i+"/accounts/social?state="+e},checkAccess:function(e,t){return void 0===t&&(t=!1),t?i+"/item/access?"+e:i+"/items/"+e+"/access"},getDlcLinks:function(e){return i+"/dlc/"+e+"/links"},findAsset:function(e,t){return i+"/items/"+t+"/"+e},findExternalAsset:function(e,t){return i+"/items/assets/external/"+e+"/"+t},findPackage:function(e){return i+"/items/packages/"+e},findAccessFees:function(e){return i+"/items/"+e+"/access-fees"},freemium:i+"/items/access/unlimited"},u=function(){};u.prototype.signIn=function(t){return e(function*(){var e=new FormData;e.append("email",t.email),e.append("password",t.password),e.append("merchant_uuid",t.merchant_uuid),e.append("referrer",t.referrer);try{var n=yield(yield fetch(s.signIn,{method:"POST",body:e})).json();return n.access_token&&r(c,n.access_token),n}catch(e){return!1}}())},u.prototype.signOut=function(){return e(function*(){var e=n(c);try{return(yield(yield fetch(s.signOut,{headers:{Authorization:"Bearer "+e}})).json()).explain&&o(c),!0}catch(e){return!1}}())},u.prototype.signUp=function(t){return e(function*(){var e=new FormData;e.append("full_name",t.full_name),e.append("email",t.email),e.append("password",t.password),e.append("password_confirmation",t.password_confirmation),e.append("merchant_uuid",t.merchant_uuid),e.append("type",t.type),e.append("referrer",t.referrer);try{return yield(yield fetch(s.signUp,{method:"POST",body:e})).json()}catch(e){return!1}}())},u.prototype.requestNewPassword=function(t){return e(function*(){var e=new FormData;e.append("email",t.email),e.append("merchant_uuid",t.merchant_uuid);try{return yield(yield fetch(s.requestNewPassword,{method:"POST",body:e})).json()}catch(e){return!1}}())},u.prototype.setNewPassword=function(t,n){return e(function*(){var e="password="+t.password+"&password_confirmation="+t.password_confirmation;try{return yield(yield fetch(s.setNewPassword(n),{method:"PUT",body:e,headers:{"Content-Type":"x-www-form-urlencoded"}})).json()}catch(e){return!1}}())},u.prototype.getAccountInfo=function(t){return e(function*(){try{var e=yield(yield fetch(s.getAccountInfo,{method:"GET",headers:{Authorization:"Bearer "+t}})).json();if(e)return e}catch(e){return!1}}())},u.prototype.getSocialLoginUrls=function(t){return e(function*(){try{var e=yield(yield fetch(s.social(t),{method:"GET"})).json();if(e)return e}catch(e){return!1}}())};var a=function(){};a.prototype.checkAccessForAsset=function(t,n){return e(function*(){try{return yield(yield fetch(s.checkAccess(n),{headers:{Authorization:"Bearer "+t}})).json()}catch(e){return!1}}())},a.prototype.checkAccessForMultipleAssets=function(t,n){return e(function*(){try{return yield(yield fetch(s.checkAccess(n,!0),{headers:{Authorization:"Bearer "+t}})).json()}catch(e){return!1}}())},a.prototype.getDlcLinks=function(t,n){return e(function*(){try{return yield(yield fetch(s.getDlcLinks(n),{headers:{Authorization:"Bearer "+t}})).json()}catch(e){return!1}}())},a.prototype.findAsset=function(t,n){return e(function*(){try{return yield(yield fetch(s.findAsset(t,n),{method:"GET"})).json()}catch(e){return!1}}())},a.prototype.findExternalAsset=function(t,n){return e(function*(){try{return yield(yield fetch(s.findExternalAsset(t,n),{method:"GET"})).json()}catch(e){return!1}}())},a.prototype.findPackage=function(t){return e(function*(){try{return yield(yield fetch(s.findPackage(t),{method:"GET"})).json()}catch(e){return!1}}())},a.prototype.getAssetAccessFees=function(t){return e(function*(){try{return yield(yield fetch(s.findAccessFees(t),{method:"GET"})).json()}catch(e){return!1}}())},a.prototype.freemiumAsset=function(t,n){return e(function*(){try{yield fetch(s.freemium,{method:"POST",headers:{Authorization:"Bearer "+t},body:n})}catch(e){return!1}}())};return new function(){this.User=new u,this.Asset=new a}});
