"use strict";function __async(e){return new Promise(function(n,r){function t(a,s){try{var c=e[s?"throw":"next"](a)}catch(e){return void r(e)}c.done?n(c.value):Promise.resolve(c.value).then(t,o)}function o(e){t(e,1)}t()})}var Cookies=require("js-cookie"),config={BASE_URL:"https://staging-v2.inplayer.com",INPLAYER_TOKEN_NAME:"inplayer_token"},API={signIn:config.BASE_URL+"/accounts/login",signOut:config.BASE_URL+"/accounts/logout",signUp:config.BASE_URL+"/accounts",requestNewPassword:config.BASE_URL+"/accounts/forgot-password",setNewPassword:function(e){return config.BASE_URL+"/accounts/forgot-password/"+e},getAccountInfo:config.BASE_URL+"/accounts",social:function(e){return config.BASE_URL+"/accounts/social?state="+e}},User=function(){};User.prototype.signIn=function(e){return __async(function*(){var n=new FormData;n.append("email",e.email),n.append("password",e.password),n.append("merchant_uuid",e.merchant_uuid),n.append("referrer",e.referrer);try{var r=yield(yield fetch(API.signIn,{method:"POST",body:n})).json();return r.access_token&&Cookies.set(config.INPLAYER_TOKEN_NAME,r.access_token),r}catch(e){return!1}}())},User.prototype.signOut=function(){return __async(function*(){var e=Cookies.get(config.INPLAYER_TOKEN_NAME);try{return(yield(yield fetch(API.signOut,{headers:{Authorization:"Bearer "+e}})).json()).explain&&Cookies.remove(config.INPLAYER_TOKEN_NAME),!0}catch(e){return!1}}())},User.prototype.signUp=function(e){return __async(function*(){var n=new FormData;n.append("full_name",e.full_name),n.append("email",e.email),n.append("password",e.password),n.append("password_confirmation",e.password_confirmation),n.append("merchant_uuid",e.merchant_uuid),n.append("type",e.type),n.append("referrer",e.referrer);try{return yield(yield fetch(API.signUp,{method:"POST",body:n})).json()}catch(e){return!1}}())},User.prototype.requestNewPassword=function(e){return __async(function*(){var n=new FormData;n.append("email",e.email),n.append("merchant_uuid",e.merchant_uuid);try{return yield(yield fetch(API.requestNewPassword,{method:"POST",body:n})).json()}catch(e){return!1}}())},User.prototype.setNewPassword=function(e,n){return __async(function*(){var r="password="+e.password+"&password_confirmation="+e.password_confirmation;try{return yield(yield fetch(API.setNewPassword(n),{method:"PUT",body:r,headers:{"Content-Type":"x-www-form-urlencoded"}})).json()}catch(e){return!1}}())},User.prototype.getAccountInfo=function(e){return __async(function*(){try{var n=yield(yield fetch(API.getAccountInfo,{method:"GET",headers:{Authorization:"Bearer "+e}})).json();if(n)return n}catch(e){return!1}}())},User.prototype.getSocialLoginUrls=function(e){return __async(function*(){try{var n=yield(yield fetch(API.social(e),{method:"GET"})).json();if(n)return n}catch(e){return!1}}())};var InPlayer=function(){this.User=new User},index=new InPlayer;module.exports=index;
//# sourceMappingURL=inplayer.cjs.js.map
