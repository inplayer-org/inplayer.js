"use strict";function __async(e){return new Promise(function(n,t){function r(s,c){try{var i=e[c?"throw":"next"](s)}catch(e){return void t(e)}i.done?n(i.value):Promise.resolve(i.value).then(r,o)}function o(e){r(e,1)}r()})}var Cookies=require("js-cookie"),config={BASE_URL:"https://staging-v2.inplayer.com",INPLAYER_TOKEN_NAME:"inplayer_token"},API={signIn:config.BASE_URL+"/accounts/login",signOut:config.BASE_URL+"/accounts/logout",signUp:config.BASE_URL+"/accounts",requestNewPassword:config.BASE_URL+"/accounts/forgot-password",setNewPassword:function(e){return config.BASE_URL+"/accounts/forgot-password/"+e},getAccountInfo:config.BASE_URL+"/accounts",social:function(e){return config.BASE_URL+"/accounts/social?state="+e},checkAccess:function(e,n){return void 0===n&&(n=!1),n?config.BASE_URL+"/item/access?"+e:config.BASE_URL+"/items/"+e+"/access"},getDlcLinks:function(e){return config.BASE_URL+"/dlc/"+e+"/links"},findAsset:function(e,n){return config.BASE_URL+"/items/"+n+"/"+e},findExternalAsset:function(e,n){return config.BASE_URL+"/items/assets/external/"+e+"/"+n},findPackage:function(e){return config.BASE_URL+"/items/packages/"+e},findAccessFees:function(e){return config.BASE_URL+"/items/"+e+"/access-fees"},freemium:config.BASE_URL+"/items/access/unlimited"},User=function(){};User.prototype.signIn=function(e){return __async(function*(){var n=new FormData;n.append("email",e.email),n.append("password",e.password),n.append("merchant_uuid",e.merchant_uuid),n.append("referrer",e.referrer);try{var t=yield(yield fetch(API.signIn,{method:"POST",body:n})).json();return t.access_token&&Cookies.set(config.INPLAYER_TOKEN_NAME,t.access_token),t}catch(e){return!1}}())},User.prototype.signOut=function(){return __async(function*(){var e=Cookies.get(config.INPLAYER_TOKEN_NAME);try{return(yield(yield fetch(API.signOut,{headers:{Authorization:"Bearer "+e}})).json()).explain&&Cookies.remove(config.INPLAYER_TOKEN_NAME),!0}catch(e){return!1}}())},User.prototype.signUp=function(e){return __async(function*(){var n=new FormData;n.append("full_name",e.full_name),n.append("email",e.email),n.append("password",e.password),n.append("password_confirmation",e.password_confirmation),n.append("merchant_uuid",e.merchant_uuid),n.append("type",e.type),n.append("referrer",e.referrer);try{return yield(yield fetch(API.signUp,{method:"POST",body:n})).json()}catch(e){return!1}}())},User.prototype.requestNewPassword=function(e){return __async(function*(){var n=new FormData;n.append("email",e.email),n.append("merchant_uuid",e.merchant_uuid);try{return yield(yield fetch(API.requestNewPassword,{method:"POST",body:n})).json()}catch(e){return!1}}())},User.prototype.setNewPassword=function(e,n){return __async(function*(){var t="password="+e.password+"&password_confirmation="+e.password_confirmation;try{return yield(yield fetch(API.setNewPassword(n),{method:"PUT",body:t,headers:{"Content-Type":"x-www-form-urlencoded"}})).json()}catch(e){return!1}}())},User.prototype.getAccountInfo=function(e){return __async(function*(){try{var n=yield(yield fetch(API.getAccountInfo,{method:"GET",headers:{Authorization:"Bearer "+e}})).json();if(n)return n}catch(e){return!1}}())},User.prototype.getSocialLoginUrls=function(e){return __async(function*(){try{var n=yield(yield fetch(API.social(e),{method:"GET"})).json();if(n)return n}catch(e){return!1}}())};var Asset=function(){};Asset.prototype.checkAccessForAsset=function(e,n){return __async(function*(){try{return yield(yield fetch(API.checkAccess(n),{headers:{Authorization:"Bearer "+e}})).json()}catch(e){return!1}}())},Asset.prototype.checkAccessForMultipleAssets=function(e,n){return __async(function*(){try{return yield(yield fetch(API.checkAccess(n,!0),{headers:{Authorization:"Bearer "+e}})).json()}catch(e){return!1}}())},Asset.prototype.getDlcLinks=function(e,n){return __async(function*(){try{return yield(yield fetch(API.getDlcLinks(n),{headers:{Authorization:"Bearer "+e}})).json()}catch(e){return!1}}())},Asset.prototype.findAsset=function(e,n){return __async(function*(){try{return yield(yield fetch(API.findAsset(e,n),{method:"GET"})).json()}catch(e){return!1}}())},Asset.prototype.findExternalAsset=function(e,n){return __async(function*(){try{return yield(yield fetch(API.findExternalAsset(e,n),{method:"GET"})).json()}catch(e){return!1}}())},Asset.prototype.findPackage=function(e){return __async(function*(){try{return yield(yield fetch(API.findPackage(e),{method:"GET"})).json()}catch(e){return!1}}())},Asset.prototype.getAssetAccessFees=function(e){return __async(function*(){try{return yield(yield fetch(API.findAccessFees(e),{method:"GET"})).json()}catch(e){return!1}}())},Asset.prototype.freemiumAsset=function(e,n){return __async(function*(){try{yield fetch(API.freemium,{method:"POST",headers:{Authorization:"Bearer "+e},body:n})}catch(e){return!1}}())};var InPlayer=function(){this.User=new User,this.Asset=new Asset},index=new InPlayer;module.exports=index;
//# sourceMappingURL=inplayer.cjs.js.map
